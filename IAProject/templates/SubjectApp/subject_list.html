{% extends 'layout.html' %}


{% block title %}
    <title>Show Subjects</title>
{% endblock %}

{% block search %}
    <div style="padding-top: 2%; margin-right: 20px;" class="form-inline my-2 my-lg-0">
        <form action="{% url 'search_subj' %}" class="form-inline my-2 my-lg-0">
            <input type="text" name="subj_name" class="form-control mr-sm-2" autocomplete="off">
            <input type="submit" value="Search Subject" class="btn btn-success my-2 my-sm-0">
        </form>
    </div>
    
{% endblock %}

{% block content %}
    <div class="container jumbotron">
    <h1 style="text-align: center;">All Subjects</h1>
    <br><br>
        {% if object_list %}
            <table class="table table-striped table-hover">
                <tr class="thead-dark">
                    <th>Sub ID</th>
                    <th>Name</th>
                    <th>Dept.</th>
                    <th>Branch</th>
                    <th>Update</th>
                    <th>Delete</th>
                </tr>
                {% for subj in object_list %}
                    <tr>
                        <td>{{subj.id}}</td>
                        <td>{{subj.name}}</td>
                        <td>{{subj.branch.dept.name}}</td>
                        <td>{{subj.branch}}</td>
                        <td><a href="{% url 'update_subj' subj.id %}"><button class="btn btn-warning">Update</button></a></td>
                        <td><a href="{% url 'delete_subj' subj.id %}"><button class="btn btn-danger">Delete</button></a></td>
                    </tr>
                {% endfor %}
            </table>
            <br>
            <div class="row">
                <div class="col-6">
                    <a href="{% url 'create_subj' %}">
                        <button class="btn btn-primary">
                            Add Subject
                        </button>
                    </a>
                </div>
                <div class="col-6">

                </div>
            </div>
            
            
        {% else %}
            
                <h5>No records found, Please add few by hitting following button!</h5>
                <br>
                <a href="{% url 'create_subj' %}">
                    <button class="btn btn-primary">
                        Add Subject
                    </button>
                </a>
            
        {% endif %}
    </div>
{% endblock %}
        